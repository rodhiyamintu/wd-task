(self.webpackChunktask_app=self.webpackChunktask_app||[]).push([[393],{2393:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ProjectModule:()=>L});var o=r(1116),n=r(9069),i=r(2290),s=r(7368),d=r(3796),a=r(4345),c=r(7688),l=r(1462),p=r(8160),g=r(4568),u=r(1610),Z=r(8445),h=r(8665),b=r(1146);const A=function(){return["/project"]},T=function(){return{height:"320px"}};let m=(()=>{class e{constructor(e,t,r,o,n){this.authService=e,this.userService=t,this.projectService=r,this.router=o,this.messageService=n,this.blocked=!0,this.currentUser=null,this.users=[],this.selectedUser=[],this.progress=[]}ngOnInit(){this.currentUser=this.authService.currentUser.value,this.project={title:"",description:"",assignedId:"",progress:"",createdById:this.currentUser.uid,createdByName:this.currentUser.displayName},this.userService.getAllUsers(this.currentUser.oid).then(e=>{e.subscribe(e=>{this.users=e,this.blocked=!1})});for(let e=1;e<=10;e++)this.progress.push({name:10*e+"%",code:""+10*e})}onSubmit(e){if(console.log(e),e.valid){this.blocked=!0;let t={title:e.value.title,assignedId:this.selectedUser.join(","),progress:e.value.progress,description:e.value.description,createdById:e.value.createdById,createdByName:e.value.createdByName,createdAt:new Date,updatedAt:new Date};this.projectService.addProject(t).then(e=>{this.messageService.add({severity:"success",summary:"Project added successfully.",closable:!1}),this.blocked=!1,console.log()}).catch(e=>{console.log(e)})}}onChangeUser(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(d.e),s.Y36(a.K),s.Y36(c.Y),s.Y36(n.F0),s.Y36(i.ez))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-add-project"]],features:[s._Bn([i.ez])],decls:58,vars:20,consts:[[1,"wd-page","wd-page-tabed"],[1,"wd-page-title"],[1,"wd-page-title-inner"],["aria-label","breadcrumb",1,"wd-breadcrumbs"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"wd-page-title-control"],[1,"btn","btn-primary","btn-rounded",3,"routerLink"],[1,"wd-page-body"],[1,"wd-panel"],[1,"wd-panel-body"],[3,"ngSubmit"],["projectForm","ngForm"],["type","hidden","name","createdById",3,"ngModel","ngModelChange"],["type","hidden","name","createdByName",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-lg-12"],[1,"mb-3"],[1,"form-label"],["type","text","name","title","placeholder","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-3"],["name","uid","optionLabel","displayName","optionValue","uid","display","chip","placeholder","Assigned To",3,"options","ngModel","ngModelChange","onChange"],[1,"col-lg-2"],["name","progress","optionLabel","name","optionValue","code","placeholder","Progress",3,"options","ngModel","showClear","required","ngModelChange"],["name","description",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-rounded",3,"disabled"],[3,"blocked"],["strokeWidth","4"],["position","top-center",3,"showTransformOptions"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h4"),s._uU(4,"Add Project"),s.qZA(),s.TgZ(5,"nav",3),s.TgZ(6,"ol",4),s.TgZ(7,"li",5),s.TgZ(8,"a",6),s._uU(9,"Dashboard"),s.qZA(),s.qZA(),s.TgZ(10,"li",5),s.TgZ(11,"a",7),s._uU(12,"Projects"),s.qZA(),s.qZA(),s.TgZ(13,"li",8),s._uU(14,"Add Project"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",9),s.TgZ(16,"button",10),s._uU(17,"Back"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",11),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s.TgZ(21,"form",14,15),s.NdJ("ngSubmit",function(){s.CHM(e);const r=s.MAs(22);return t.onSubmit(r)}),s.TgZ(23,"input",16),s.NdJ("ngModelChange",function(e){return t.project.createdById=e}),s.qZA(),s.TgZ(24,"input",17),s.NdJ("ngModelChange",function(e){return t.project.createdByName=e}),s.qZA(),s.TgZ(25,"div",18),s.TgZ(26,"div",19),s.TgZ(27,"div",20),s.TgZ(28,"label",21),s._uU(29,"Project Title"),s.qZA(),s.TgZ(30,"input",22),s.NdJ("ngModelChange",function(e){return t.project.title=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"div",18),s.TgZ(32,"div",23),s.TgZ(33,"div",20),s.TgZ(34,"label",21),s._uU(35,"Assigned To"),s.qZA(),s._UZ(36,"br"),s.TgZ(37,"p-multiSelect",24),s.NdJ("ngModelChange",function(e){return t.selectedUser=e})("onChange",function(e){return t.onChangeUser(e.value)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(38,"div",25),s.TgZ(39,"div",20),s.TgZ(40,"label",21),s._uU(41,"Progress"),s.qZA(),s._UZ(42,"br"),s.TgZ(43,"p-dropdown",26),s.NdJ("ngModelChange",function(e){return t.selectedProgress=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(44,"div",18),s.TgZ(45,"div",19),s.TgZ(46,"div",20),s.TgZ(47,"label",21),s._uU(48,"Description"),s.qZA(),s._UZ(49,"br"),s.TgZ(50,"p-editor",27),s.NdJ("ngModelChange",function(e){return t.project.description=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",18),s.TgZ(52,"div",19),s.TgZ(53,"button",28),s._uU(54,"Save"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(55,"p-blockUI",29),s._UZ(56,"p-progressSpinner",30),s.qZA(),s._UZ(57,"p-toast",31)}if(2&e){const e=s.MAs(22);s.xp6(11),s.Q6J("routerLink",s.DdM(17,A)),s.xp6(5),s.Q6J("routerLink",s.DdM(18,A)),s.xp6(7),s.Q6J("ngModel",t.project.createdById),s.xp6(1),s.Q6J("ngModel",t.project.createdByName),s.xp6(6),s.Q6J("ngModel",t.project.title),s.xp6(7),s.Q6J("options",t.users)("ngModel",t.selectedUser),s.xp6(6),s.Q6J("options",t.progress)("ngModel",t.selectedProgress)("showClear",!0)("required",!0),s.xp6(7),s.Akn(s.DdM(19,T)),s.Q6J("ngModel",t.project.description),s.xp6(3),s.Q6J("disabled",e.invalid),s.xp6(2),s.Q6J("blocked",t.blocked),s.xp6(2),s.Q6J("showTransformOptions","translateX(100%)")}},directives:[n.yS,n.rH,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.Q7,p.NU,g.Lt,u.ML,Z.b,h.G,b.FN],encapsulation:2}),e})();const q=function(){return["/project"]},v=function(){return{height:"320px"}};let U=(()=>{class e{constructor(e,t,r,o,n){this.authService=e,this.userService=t,this.projectService=r,this.route=o,this.messageService=n,this.blocked=!0,this.currentUser=null,this.users=[],this.selectedUser=[],this.progress=[],this.projectId=""}ngOnInit(){this.currentUser=this.authService.currentUser.value,this.route.params.subscribe(e=>{this.projectId=e.id,this.loadProject(e.id)}),this.project={title:"",description:"",assignedId:"",progress:"",createdById:this.currentUser.uid,createdByName:this.currentUser.displayName},this.getAllUsers();for(let e=1;e<=10;e++)this.progress.push({name:10*e+"%",code:""+10*e})}onSubmit(e){if(e.valid){this.blocked=!0;let t={title:e.value.title,assignedId:this.selectedUser.join(","),progress:e.value.progress,description:e.value.description,createdById:e.value.createdById,createdByName:e.value.createdByName,createdAt:new Date,updatedAt:new Date};this.projectService.updateProject(this.projectId,t).then(e=>{this.messageService.add({severity:"success",summary:"Project updated successfully.",closable:!1}),this.blocked=!1}).catch(e=>{console.log(e)})}}getAllUsers(){this.userService.getAllUsers(this.currentUser.oid).then(e=>{e.subscribe(e=>{this.users=e,this.blocked=!1})})}onChangeUser(e){}loadProject(e){this.projectService.getProject(e).then(e=>{e.subscribe(e=>{this.project={title:e.title,description:e.description,assignedId:e.assignedId,progress:e.progress,createdById:this.currentUser.uid,createdByName:this.currentUser.displayName},this.selectedProgress=e.progress,this.selectedUser=e.assignedId.split(",")})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(d.e),s.Y36(a.K),s.Y36(c.Y),s.Y36(n.gz),s.Y36(i.ez))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-edit-project"]],features:[s._Bn([i.ez])],decls:58,vars:20,consts:[[1,"wd-page","wd-page-tabed"],[1,"wd-page-title"],[1,"wd-page-title-inner"],["aria-label","breadcrumb",1,"wd-breadcrumbs"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[3,"routerLink"],["aria-current","page",1,"breadcrumb-item","active"],[1,"wd-page-title-control"],[1,"btn","btn-primary","btn-rounded",3,"routerLink"],[1,"wd-page-body"],[1,"wd-panel"],[1,"wd-panel-body"],[3,"ngSubmit"],["projectForm","ngForm"],["type","hidden","name","createdById",3,"ngModel","ngModelChange"],["type","hidden","name","createdByName",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-lg-12"],[1,"mb-3"],[1,"form-label"],["type","text","name","title","placeholder","Name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-lg-3"],["name","uid","optionLabel","displayName","optionValue","uid","display","chip","placeholder","Assigned To",3,"options","ngModel","ngModelChange","onChange"],[1,"col-lg-2"],["name","progress","optionLabel","name","optionValue","code","placeholder","Progress",3,"options","ngModel","showClear","required","ngModelChange"],["name","description",3,"ngModel","ngModelChange"],[1,"btn","btn-primary","btn-rounded",3,"disabled"],[3,"blocked"],["strokeWidth","4"],["position","top-center",3,"showTransformOptions"]],template:function(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h4"),s._uU(4,"Edit Project"),s.qZA(),s.TgZ(5,"nav",3),s.TgZ(6,"ol",4),s.TgZ(7,"li",5),s.TgZ(8,"a",6),s._uU(9,"Dashboard"),s.qZA(),s.qZA(),s.TgZ(10,"li",5),s.TgZ(11,"a",7),s._uU(12,"Projects"),s.qZA(),s.qZA(),s.TgZ(13,"li",8),s._uU(14,"Edit Project"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",9),s.TgZ(16,"button",10),s._uU(17,"Back"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(18,"div",11),s.TgZ(19,"div",12),s.TgZ(20,"div",13),s.TgZ(21,"form",14,15),s.NdJ("ngSubmit",function(){s.CHM(e);const r=s.MAs(22);return t.onSubmit(r)}),s.TgZ(23,"input",16),s.NdJ("ngModelChange",function(e){return t.project.createdById=e}),s.qZA(),s.TgZ(24,"input",17),s.NdJ("ngModelChange",function(e){return t.project.createdByName=e}),s.qZA(),s.TgZ(25,"div",18),s.TgZ(26,"div",19),s.TgZ(27,"div",20),s.TgZ(28,"label",21),s._uU(29,"Project Title"),s.qZA(),s.TgZ(30,"input",22),s.NdJ("ngModelChange",function(e){return t.project.title=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(31,"div",18),s.TgZ(32,"div",23),s.TgZ(33,"div",20),s.TgZ(34,"label",21),s._uU(35,"Assigned To"),s.qZA(),s._UZ(36,"br"),s.TgZ(37,"p-multiSelect",24),s.NdJ("ngModelChange",function(e){return t.selectedUser=e})("onChange",function(e){return t.onChangeUser(e.value)}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(38,"div",25),s.TgZ(39,"div",20),s.TgZ(40,"label",21),s._uU(41,"Progress"),s.qZA(),s._UZ(42,"br"),s.TgZ(43,"p-dropdown",26),s.NdJ("ngModelChange",function(e){return t.selectedProgress=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(44,"div",18),s.TgZ(45,"div",19),s.TgZ(46,"div",20),s.TgZ(47,"label",21),s._uU(48,"Description"),s.qZA(),s._UZ(49,"br"),s.TgZ(50,"p-editor",27),s.NdJ("ngModelChange",function(e){return t.project.description=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",18),s.TgZ(52,"div",19),s.TgZ(53,"button",28),s._uU(54,"Save"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(55,"p-blockUI",29),s._UZ(56,"p-progressSpinner",30),s.qZA(),s._UZ(57,"p-toast",31)}if(2&e){const e=s.MAs(22);s.xp6(11),s.Q6J("routerLink",s.DdM(17,q)),s.xp6(5),s.Q6J("routerLink",s.DdM(18,q)),s.xp6(7),s.Q6J("ngModel",t.project.createdById),s.xp6(1),s.Q6J("ngModel",t.project.createdByName),s.xp6(6),s.Q6J("ngModel",t.project.title),s.xp6(7),s.Q6J("options",t.users)("ngModel",t.selectedUser),s.xp6(6),s.Q6J("options",t.progress)("ngModel",t.selectedProgress)("showClear",!0)("required",!0),s.xp6(7),s.Akn(s.DdM(19,v)),s.Q6J("ngModel",t.project.description),s.xp6(3),s.Q6J("disabled",e.invalid),s.xp6(2),s.Q6J("blocked",t.blocked),s.xp6(2),s.Q6J("showTransformOptions","translateX(100%)")}},directives:[n.yS,n.rH,l._Y,l.JL,l.F,l.Fj,l.JJ,l.On,l.Q7,p.NU,g.Lt,u.ML,Z.b,h.G,b.FN],styles:[""]}),e})();var y=r(5992),f=r(6726),j=r(7593),M=r(2886),w=r(4082);function _(e,t){1&e&&(s.TgZ(0,"tr"),s._UZ(1,"th",17),s.TgZ(2,"th",18),s._uU(3,"Title "),s._UZ(4,"p-sortIcon",19),s.qZA(),s.TgZ(5,"th"),s._uU(6,"Assigned To"),s.qZA(),s.TgZ(7,"th",20),s._uU(8,"Progress"),s.qZA(),s.TgZ(9,"th"),s._uU(10,"Created By"),s.qZA(),s.TgZ(11,"th"),s._uU(12,"Updated At"),s.qZA(),s.TgZ(13,"th",21),s._uU(14,"Action"),s.qZA(),s.qZA())}const J=function(e){return[e]};function k(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"button",22),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._UZ(6,"p-chip",23),s.qZA(),s.TgZ(7,"td"),s._UZ(8,"p-progressBar",24),s.qZA(),s.TgZ(9,"td"),s._UZ(10,"p-chip",25),s.qZA(),s.TgZ(11,"td"),s._uU(12),s.ALo(13,"date"),s._UZ(14,"br"),s._uU(15),s.ALo(16,"date"),s.qZA(),s.TgZ(17,"td"),s._UZ(18,"button",26),s._UZ(19,"button",27),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("routerLink",s.VKq(13,J,"/task/"+e.docId)),s.xp6(2),s.Oqu(e.title),s.xp6(4),s.Q6J("value",e.progress),s.xp6(2),s.s9C("label",e.createdByName),s.xp6(2),s.hij(" ",s.xi3(13,7,1e3*e.createdAt.seconds," LLL dd, yyyy hh:mm:aa"),""),s.xp6(3),s.hij(" ",s.xi3(16,10,1e3*e.updatedAt.seconds," LLL dd, yyyy hh:mm:aa")," "),s.xp6(3),s.Q6J("routerLink",s.VKq(15,J,"/project/edit/"+e.docId))}}const C=function(){return["/project/add"]},S=function(){return[10,25,50]},N=[{path:"",component:(()=>{class e{constructor(e,t,r){this.authService=e,this.userService=t,this.projectService=r,this.currentUser=null,this.blocked=!1,this.loading=!0}ngOnInit(){this.currentUser=this.authService.currentUser.value,this.userService.getAllUsers(this.currentUser.uid).then(e=>{e.subscribe(e=>{console.log(e),this.users=e,this.loading=!1})}),this.projectService.allProject(this.currentUser.uid).then(e=>{e.subscribe(e=>{console.log(e),this.projects=e,this.loading=!1})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(d.e),s.Y36(a.K),s.Y36(c.Y))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-list-project"]],decls:22,vars:9,consts:[[1,"wd-page","wd-page-tabed"],[1,"wd-page-title"],[1,"wd-page-title-inner"],["aria-label","breadcrumb",1,"wd-breadcrumbs"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],["aria-current","page",1,"breadcrumb-item","active"],[1,"wd-page-title-control"],[1,"btn","btn-primary","btn-rounded",3,"routerLink"],[1,"wd-page-body"],[1,"wd-panel"],[1,"wd-panel-body"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","loading"],["dt1",""],["pTemplate","header"],["pTemplate","body"],["width","5%"],["width","20%","pSortableColumn","displayName"],["field","code"],["width","12%"],["width","8%"],["pButton","","pRipple","","type","button","icon","pi pi-bars","pTooltip","Tasks","tooltipPosition","bottom",1,"p-button-rounded",3,"routerLink"],["label",""],[3,"value"],[3,"label"],["pButton","","pRipple","","icon","pi pi-pencil","pTooltip","Edit","tooltipPosition","bottom",1,"p-button-rounded","p-button-success","p-mr-2",3,"routerLink"],["pButton","","pRipple","","icon","pi pi-trash","pTooltip","Delete","tooltipPosition","bottom",1,"p-button-rounded","p-button-danger"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h4"),s._uU(4,"Projects"),s.qZA(),s.TgZ(5,"nav",3),s.TgZ(6,"ol",4),s.TgZ(7,"li",5),s.TgZ(8,"a",6),s._uU(9,"Dashboard"),s.qZA(),s.qZA(),s.TgZ(10,"li",7),s._uU(11,"Projects"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",8),s.TgZ(13,"button",9),s._uU(14,"Add Project"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",10),s.TgZ(16,"div",11),s.TgZ(17,"div",12),s.TgZ(18,"p-table",13,14),s.YNc(20,_,15,0,"ng-template",15),s.YNc(21,k,20,17,"ng-template",16),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(13),s.Q6J("routerLink",s.DdM(7,C)),s.xp6(5),s.Q6J("value",t.projects)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",s.DdM(8,S))("loading",t.loading))},directives:[n.rH,y.iA,i.jx,y.lQ,y.fz,f.Hq,j.u,M.A,w.k],pipes:[o.uU],styles:[""]}),e})()},{path:"add",component:m},{path:"edit/:id",component:U}];let B=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[n.Bz.forChild(N)],n.Bz]}),e})();var P=r(2556),x=r(3176);let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[o.ez,B,P.R,x.m]]}),e})()}}]);